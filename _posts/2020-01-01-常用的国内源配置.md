---
layout: post
title: 常用的国内源配置
tag: Tools
---

### 1.pip配置

    [global]
    index-url = http://mirrors.aliyun.com/pypi/simple/

    [install]
    trusted-host = mirrors.aliyun.com 


### 2.docker配置

    sudo mkdir /etc/docker/

    sudo touch /etc/docker/daemon.json

    sudo vim /etc/docker/daemon.json

    # 添加下面代码
    {
    "registry-mirrors": [
        "https://docker.mirrors.ustc.edu.cn/",
        "https://hub-mirror.c.163.com",
        "https://registry.docker-cn.com",
            "https://dockerhub.azk8s.cn",
            "https://reg-mirror.qiniu.com",
            "https://registry.docker-cn.com"
    ]
    }


    sudo systemctl daemon-reload
    
    sudo systemctl restart docker

### 3.docker添加用户组
    sudo groupadd docker
 
    sudo gpasswd -a  kang docker     

    sudo reboot

    #检查是否添加到组
    cat /etc/group    

### 4.go的下载与安装(ubuntu)
    wget https://dl.google.com/go/go1.13.9.linux-amd64.tar.gz

    tar xf go1.13.9.linux-amd64.tar.gz

    sudo mv go /usr/local/go-1.13

    cd /etc/profile.d/

    sudo touch Z99-go-1.13.sh    

    which go 

    go version

    go env

### 5.配置apt国内源

    sudo cp /etc/apt/sources.list /etc/apt/sources.list.bakcup

    sudo vim /etc/apt/sources.list 

    # 添加下面代码：
    deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
    deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse

    deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
    deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
    deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse

    deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
    deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
    deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse

    deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
    deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse

    # 更新源
    sudo apt update

### 6.Dockerfile中的国内源

#### apt-替换
    RUN sed -i 's/archive.ubuntu.com/mirrors.aliyun.com/g' /etc/apt/sources.list

#### go-替换
    wget https://dl.google.com/go/go${GO_VERSION}.linux-amd64.tar.gz && \
    wget https://golang.google.cn/dl/go${GO_VERSION}.linux-amd64.tar.gz && \

#### goproxy-添加
    ENV GO111MODULE on
    ENV GOPROXY "https://goproxy.cn"

#### pip-添加
    RUN mkdir -p ~/.pip && \
    printf '[global]\n\ttrusted-host=mirrors.aliyun.com\n\tindex-url=http://mirrors.aliyun.com/pypi/simple' > ~/.pip/pip.conf

#### python-etcd3-替换
    RUN git clone https://github.com/kragniz/python-etcd3 && \
    RUN git clone https://gitee.com/mirrors/python-etcd3.git && \

#### InfluxDB-替换
    git clone https://github.com/influxdata/influxdb ${INFLUXDB_GO_PATH} && \
    git clone https://gitee.com/mirrors/InfluxDB.git ${INFLUXDB_GO_PATH} && \

#### etcd-替换
    git clone https://github.com/etcd-io/etcd ${ETCD_GO_PATH} && \
    git clone https://gitee.com/mirrors/etcd.git ${ETCD_GO_PATH} && \




