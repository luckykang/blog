---
layout: post
title: vs code配置go环境
tag: vscode
---

### 一.go国内源

下载网址：[https://golang.google.cn/dl/](https://golang.google.cn/dl/)

### 二.go proxy配置
1.适用于mac或者linux,打开`bashrc`或者`zshrc`,输入下面两行

    GO111MODULE="on"

    export GOPROXY=https://goproxy.cn,direct

2.适用于windows,按下`win+R`,输入`sysdm.cpl`,如下图新加变量名和变量值。

![20210106134732](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106134732.png)

`GO111MODULE`环境变量主要是用来开启或关闭模块支持的。它有三个可选值：off、on、auto，默认值是 auto。

- `GO111MODULE=off`  无模块支持，go 会从 GOPATH 和 vendor 文件夹寻找包。
- `GO111MODULE=on`    模块支持，go 会忽略 GOPATH 和 vendor 文件夹，只根据 go.mod 下载依赖。
- `GO111MODULE=auto` 在 $GOPATH/src 外面且根目录有 go.mod 文件时，开启模块支持。

可以打开终端直接使用 `go env -w` 进行设置:

`go env -w GO111MODULE=on`

![20210106135446](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106135446.png)

3.终端输入`go env`可以看到proxy已经添加到环境中。

![20210106003207](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106003207.png)

### 三.vs code 中配置go

1.现在我们要为我们的VS Code编辑器安装Go扩展插件，让它支持Go语言开发。

![20210106001641](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106001641.png)

2.Windows平台按下`Ctrl+Shift+P`，Mac平台按`Command+Shift+P`，这个时候VS Code界面会弹出一个输入框，如下图：

![20210106002007](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106002007.png)

3.我们在这个输入框中输入`go:install`，下面会自动搜索相关命令，我们选择 `Go:Install/Update Tools`这个命令，按下图选中并会回车执行该命令

![20210106002148](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106002148.png)

4.全部选中，点击确定，进行安装

![20210106002421](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106002421.png)

5.等待所有工具都安装成功

![20210106003530](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106003530.png)

### 四.配置代码片段快捷键

1.按`Ctrl/Command+Shift+P`,按下图输入`snippets`，选择命令并执行：

![20210106004015](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106004015.png)

2.然后在弹出的窗口点击选择`go`选项

![20210106004145](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210106004145.png)

3.我这里创建了两个快捷方式，一个是输入`pln`就会在编辑器中插入`fmt.Println()`代码；输入`plf`，就会插入`fmt.Printf("")`代码

![![20210106004502](httpscdn.jsdelivr.netghluckykangpicture_bedblogs_images20210106004502.png)](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/![20210106004502](httpscdn.jsdelivr.netghluckykangpicture_bedblogs_images20210106004502.png).png)

附代码：

    "println":{
        "prefix": "pln",
        "body":"fmt.Println($0)",
        "description": "println"
    },
    "printf":{
        "prefix": "plf",
        "body": "fmt.Printf(\"$0\")",
        "description": "printf"
    }

到这里就配置完成了，可以愉快的使用了！！