---
layout: post
title: ESH系列04-用于损失检测的实时传感器融合用例
tag: Edge Software Hub
---

>>> 全文字数，预计阅读4min

### 一、用例介绍

实时传感器融合用于损失检测，可在自助结账时部署传感器融合技术，实现损失检测，并实现更无缝的体验。使用机器学习连接不同的传感器，如销售点系统、重量秤传感器、摄像头和 RFID，以准确检测结账项目。


### 二、用到的技术

EdgeX Foundry

VAS （全称video-analytics-serving）

Docker

Docker Compose

### 三、安装环境

- 硬件要求： 英特尔处理器
- 系统要求： Ubuntu18.04 LTS 
- 完成时间： about 2h
- 使用语言： golang1.12及以上
- 可选（传感器）：
  
    销售点混合扫描仪或秤

    条形码扫描仪

    销售点装袋秤

    四个USB摄像机

    RFID垫

    触摸显示屏

### 四、工作原理

传感器融合，也称为篮子调节，是检测系统的根源。它的工作原理如下：

1.传感器设备触发事件，例如检测 RFID 标记或食物类型。

2.EdgeX 框架通过微服务将事件作为事件消息发布到主要应用程序，将信息组装到与检测到的产品关联的事件。

3.然后对数据进行协调，以确保与正在购买的数据相匹配。不可调和的对象可能表示可疑购买。销售点系统与 EdgeX REST 或 MQTT 设备服务是集成的，可以将事件发送给主应用。提供的 Scaled Devices Service 专门用于 CAS USB 秤。或者，我们可以将销售点装袋秤的事件发送给 EdgeX REST 或 MQTT 设备服务。


下图显示了该用例所使用的传感器和服务，以及它们是如何通过 EdgeX 进行通信的。

![20210607155940](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210607155940.png)

### 五、安装步骤

1.下载

我们在ESH官网上点击`Use Cases`选项,找到该用例并点击，页面跳转后点击下载，记得保存key

![20210607162812](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210607162812.png)

2.安装

解压完成后，执行安装

    sudo ./edgesoftware install

![20210607172412](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/20210607172412.png)

安装完成

![2021-06-0711-31-06](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/2021-06-0711-31-06.png)


### 七、运行使用

1.进入应用目录

![2021-06-0711-33-44](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/2021-06-0711-33-44.png)

2.build 应用

![2021-06-07-11-34-54](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/2021-06-07-11-34-54.png)

build完成



检查一下镜像是否build成功

    sudo docker images

![2021-06-07-13-29-55](https://cdn.jsdelivr.net/gh/luckykang/picture_bed/blogs_images/2021-06-07-13-29-55.png)

3.